<div class="container mt-4">
  <h2 class="text-center fw-bold mb-4">Espace Administrateur</h2>

  <!-- Tabs -->
  <div class="btn-group mb-4">
    <button
      class="btn"
      [ngClass]="{ 'btn-success text-white': activeTab === 'users', 'btn-outline-secondary': activeTab !== 'users' }"
      (click)="setTab('users')"
    >
      ðŸ‘¥ Utilisateurs
    </button>
    <button
      class="btn"
      [ngClass]="{ 'btn-success text-white': activeTab === 'transactions', 'btn-outline-secondary': activeTab !== 'transactions' }"
      (click)="setTab('transactions')"
    >
      âœ… Transactions
    </button>
    <button
      class="btn"
      [ngClass]="{ 'btn-success text-white': activeTab === 'logs', 'btn-outline-secondary': activeTab !== 'logs' }"
      (click)="setTab('logs')"
    >
      ðŸ“œ Logs
    </button>
  </div>

  <!-- Users CRUD -->
  <div *ngIf="activeTab === 'users'">
    <div class="card p-4">
      <h4 class="text-success mb-3">Gestion des utilisateurs</h4>
      <table class="table table-bordered table-striped">
        <thead class="table-light">
          <tr>
            <th>Nom</th>
            <th>Email</th>
            <th>RÃ´le</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of users">
            <td>{{ user.name }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.role }}</td>
            <td>
              <button class="btn btn-sm btn-primary me-2" (click)="editUser(user)">Modifier</button>
              <button class="btn btn-sm btn-danger" (click)="deleteUser(user.id)">Supprimer</button>
            </td>
          </tr>
        </tbody>
      </table>
      <button class="btn btn-success mt-3" (click)="createUser()">âž• Ajouter un utilisateur</button>
    </div>
  </div>

  <!-- Transactions Validation -->
  <div *ngIf="activeTab === 'transactions'">
    <div class="card p-4">
      <h4 class="text-success mb-3">Transactions importantes Ã  valider</h4>
      <div *ngFor="let tx of transactions" class="border p-3 mb-2 rounded">
        <p>
          <strong>Montant :</strong> {{ tx.amount }} â‚¬ | <strong>De :</strong> {{ tx.from }} | <strong>Ã€ :</strong> {{ tx.to }}
          <button class="btn btn-sm btn-outline-success float-end me-2" (click)="approveTransaction(tx.id)">Valider</button>
          <button class="btn btn-sm btn-outline-danger float-end" (click)="rejectTransaction(tx.id)">Rejeter</button>
        </p>
      </div>
    </div>
  </div>

  <!-- Logs -->
  <div *ngIf="activeTab === 'logs'">
    <div class="card p-4">
      <h4 class="text-success mb-3">Logs rÃ©cents</h4>
      <ul class="list-group">
        <li class="list-group-item" *ngFor="let log of logs">{{ log }}</li>
      </ul>
    </div>
  </div>
</div>
